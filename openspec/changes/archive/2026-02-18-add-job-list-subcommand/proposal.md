# 変更提案: job 一覧を出力する list サブコマンドの追加

## 目的

`agent-exec` に `list` サブコマンドを追加し、ジョブ保存先に存在するジョブ一覧を JSON で取得できるようにする。

## 背景

既存の `run`/`status`/`tail`/`wait`/`kill` は個別ジョブに対する操作のみを提供している。ジョブ一覧を取得するには root 配下を直接走査する必要があり、利用側での実装負荷が高い。

## スコープ

- `agent-exec list` の追加
- `--root` と `--limit` オプションの追加
- JSON レスポンスに `root`/`jobs`/`truncated`/`skipped` を含める
- `meta.json`/`state.json` を読み取ってジョブ概要を返す

## スコープ外

- 既存コマンドの JSON 仕様変更
- ジョブ削除やクリーンアップ機能の追加
- ジョブ詳細ログの取得（既存の `tail` を使用）

## リスクと互換性

- 新規サブコマンドの追加のみで既存 API との互換性を維持する
- root 配下の破損ディレクトリを読み飛ばすため、実ジョブ数と一致しない可能性がある

## 成功条件

- `agent-exec list` が JSON のみを出力し、ジョブ一覧が取得できる
- `--limit` が有効に機能し、超過時に `truncated=true` が返る
- `meta.json` が壊れているディレクトリがあってもエラーにならず `skipped` に反映される
