# 変更提案: JSON レスポンス出力の共通化

## 概要

`Response::print` と `ErrorResponse::print` の JSON 出力処理を共通化し、重複ロジックを削減する。出力 JSON 形式は維持する。

## 目的

- stdout JSON-only 契約を守る出力処理を 1 箇所に集約する
- 将来の出力変更時の差分漏れを防ぐ

## スコープ

- `src/schema.rs` の出力処理の共通ヘルパー化
- JSON シリアライズ失敗時のメッセージ文言の統一（内容は現状維持）

## スコープ外

- JSON スキーマやフィールド名の変更
- エラーコードやリトライ可否の変更

## 受け入れ基準

- 成功・失敗どちらのレスポンスも stdout に JSON 1 行のみが出力される
- 既存の統合テストがすべて通る
- CLI/JSON 仕様に変更がない
